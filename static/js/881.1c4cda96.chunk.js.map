{"version":3,"file":"static/js/881.1c4cda96.chunk.js","mappings":"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","sources":["API/API.js","components/ListFilms/ListFilms.jsx","webpack://goit-react-hw-05-movies/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst KEY = '7cac8f2b707803c3d0e6d2661b894935';\nconst URL = 'https://api.themoviedb.org/3';\nconst imgURL = 'https://image.tmdb.org/t/p/w500';\nconst smallImgURL = 'https://image.tmdb.org/t/p/w200';\n\n// Request fims in trending or by key-word\nconst fetchFilms = async (filmName, page = 1) => {\n  const request = filmName\n    ? `${URL}/search/movie?api_key=${KEY}&language=en-US&query=${filmName}&page=${page}`\n    : `${URL}/trending/all/day?api_key=${KEY}&page=${page}`;\n\n  \n    const response = await axios.get(request);\n    const takeInfo = results => {\n      return results\n        .filter(\n          ({ poster_path, genre_ids, title, original_title }) =>\n            //фільтрація на заповненість даними\n            poster_path && genre_ids && (title || original_title)\n        )\n        .map(({ id, title, original_title }) => ({\n          id,\n          title: title ? title : original_title,\n        }));\n    };\n   \n    return takeInfo(response.data.results);\n};\n\n// Request by film's ID (сommon information about film)\nconst fetchFilmById = async filmId => {\n    const response = await axios.get(\n      `${URL}/movie/${filmId}?api_key=${KEY}&language=en-US`\n    );\n    const {\n      genres,\n      id,\n      poster_path,\n      release_date = '',\n      title,\n      vote_average,\n      overview,\n    } = response.data;\n\n    return {\n      id,\n      poster_path: `${imgURL}${poster_path}`,\n      title: `${title} (${release_date.slice(0, 4)})`,\n      userScore: `${Math.round(vote_average * 10)}%`,\n      overview,\n      genres: genres.map(genre => genre.name).join(' '),\n    };\n\n};\n\n// Request about casting\nconst fetchCastFilmById = async filmId => {\n  \n    const response = await axios.get(\n      `${URL}/movie/${filmId}/credits?api_key=${KEY}&language=en-US`\n    );\n    const { cast } = response.data;\n\n    return cast.map(({ id, name, profile_path, character }) => ({\n      id,\n      name,\n      character,\n      photo: profile_path?`${smallImgURL}${profile_path}`:null,\n    }));\n  \n};\n\n// // Request about reviews\nconst fetchReviewsFilmById = async (filmId, page = 1) => {\n  \n    const response = await axios.get(\n      `${URL}/movie/${filmId}/reviews?api_key=${KEY}&language=en-US&page=${page}`\n    );\n    const { results } = response.data;\n\n    return results.map(({ id, author, content }) => ({ id, author, content }));\n  \n};\n\nexport { fetchFilms, fetchFilmById, fetchCastFilmById, fetchReviewsFilmById };\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useEffect } from 'react';\nimport { fetchFilms } from 'API/API';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { Link, useLocation } from 'react-router-dom';\n\nfunction ListFilms({ filter = '' }) {\n  const [films, setfilms] = useState([]);\n  const location = useLocation();\n\n  useEffect(() => {\n    const queryResult = filter ? fetchFilms(filter) : fetchFilms();\n    queryResult\n      .then(result => setfilms(result))\n      .catch(() => toast.error(\"We can't find any film about your reguest\"));\n  }, [filter]);\n\n  return (\n    <ul>\n      {films.map(film => (\n        <li key={film.id}>\n          <Link to={`/movies/${film.id}`} state={{ from: location }}>{film.title}</Link>\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nListFilms.propTypes = {\n  filter: PropTypes.string,\n};\n\nexport default ListFilms;\n","// extracted by mini-css-extract-plugin\nexport default {\"search\":\"Movies_search__VjLZn\"};","import React, { useState } from 'react';\nimport ListFilms from 'components/ListFilms/ListFilms';\nimport { useSearchParams } from 'react-router-dom';\nimport { useEffect } from 'react';\nimport css from './Movies.module.css';\n\nfunction Movies() {\n  const [filter, setFilter] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const q = e.target.elements.search.value.trim();\n    if (q) {\n      setFilter(q);\n      setSearchParams({ query: q });\n    }\n  };\n\n  useEffect(() => {\n    setFilter(query);\n  }, [query]);\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <input\n          className={css.search}\n          type=\"text\"\n          name=\"search\"\n          placeholder=\"Enter name of film you want to find\"\n        />\n        <button type=\"submit\">Search</button>\n      </form>\n      {filter && <ListFilms filter={filter} />}\n    </div>\n  );\n}\n\nexport default Movies;\n"],"names":["KEY","URL","fetchFilms","filmName","page","request","axios","response","takeInfo","results","filter","poster_path","genre_ids","title","original_title","map","id","data","fetchFilmById","filmId","genres","release_date","vote_average","overview","slice","userScore","Math","round","genre","name","join","fetchCastFilmById","cast","profile_path","character","photo","fetchReviewsFilmById","author","content","useState","films","setfilms","location","useLocation","useEffect","then","result","catch","toast","film","to","state","from","setFilter","useSearchParams","searchParams","setSearchParams","query","get","onSubmit","e","preventDefault","q","target","elements","search","value","trim","className","css","type","placeholder","ListFilms"],"sourceRoot":""}