{"version":3,"file":"static/js/351.9f739bd2.chunk.js","mappings":"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","sources":["API/API.js","webpack://goit-react-hw-05-movies/./src/components/GoBack/GoBack.module.css?848c","components/GoBack/GoBack.jsx","webpack://goit-react-hw-05-movies/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst KEY = '7cac8f2b707803c3d0e6d2661b894935';\nconst URL = 'https://api.themoviedb.org/3';\nconst imgURL = 'https://image.tmdb.org/t/p/w500';\nconst smallImgURL = 'https://image.tmdb.org/t/p/w200';\n\n// Request fims in trending or by key-word\nconst fetchFilms = async (filmName, page = 1) => {\n  const request = filmName\n    ? `${URL}/search/movie?api_key=${KEY}&language=en-US&query=${filmName}&page=${page}`\n    : `${URL}/trending/all/day?api_key=${KEY}&page=${page}`;\n\n  \n    const response = await axios.get(request);\n    const takeInfo = results => {\n      return results\n        .filter(\n          ({ poster_path, genre_ids, title, original_title }) =>\n            //фільтрація на заповненість даними\n            poster_path && genre_ids && (title || original_title)\n        )\n        .map(({ id, title, original_title }) => ({\n          id,\n          title: title ? title : original_title,\n        }));\n    };\n   \n    return takeInfo(response.data.results);\n};\n\n// Request by film's ID (сommon information about film)\nconst fetchFilmById = async filmId => {\n    const response = await axios.get(\n      `${URL}/movie/${filmId}?api_key=${KEY}&language=en-US`\n    );\n    const {\n      genres,\n      id,\n      poster_path,\n      release_date = '',\n      title,\n      vote_average,\n      overview,\n    } = response.data;\n\n    return {\n      id,\n      poster_path: `${imgURL}${poster_path}`,\n      title: `${title} (${release_date.slice(0, 4)})`,\n      userScore: `${Math.round(vote_average * 10)}%`,\n      overview,\n      genres: genres.map(genre => genre.name).join(' '),\n    };\n\n};\n\n// Request about casting\nconst fetchCastFilmById = async filmId => {\n  \n    const response = await axios.get(\n      `${URL}/movie/${filmId}/credits?api_key=${KEY}&language=en-US`\n    );\n    const { cast } = response.data;\n\n    return cast.map(({ id, name, profile_path, character }) => ({\n      id,\n      name,\n      character,\n      photo: profile_path?`${smallImgURL}${profile_path}`:null,\n    }));\n  \n};\n\n// // Request about reviews\nconst fetchReviewsFilmById = async (filmId, page = 1) => {\n  \n    const response = await axios.get(\n      `${URL}/movie/${filmId}/reviews?api_key=${KEY}&language=en-US&page=${page}`\n    );\n    const { results } = response.data;\n\n    return results.map(({ id, author, content }) => ({ id, author, content }));\n  \n};\n\nexport { fetchFilms, fetchFilmById, fetchCastFilmById, fetchReviewsFilmById };\n","// extracted by mini-css-extract-plugin\nexport default {\"link\":\"GoBack_link__kIrHt\"};","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { HiArrowNarrowLeft } from 'react-icons/hi';\nimport { PropTypes } from 'prop-types';\nimport css from './GoBack.module.css';\n\nfunction GoBack({ to, children }) {\n  return (\n    <Link to={to} className={css.link}>\n      <HiArrowNarrowLeft size=\"18\" />\n      {children}\n    </Link>\n  );\n}\n\nGoBack.propTypes = {\n  to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\n  children: PropTypes.node,\n};\nexport default GoBack;\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"MovieDetails_wrapper__YMWLn\",\"poster\":\"MovieDetails_poster__yO7gD\",\"wrapperAdditional\":\"MovieDetails_wrapperAdditional__KIKDM\",\"text\":\"MovieDetails_text__RHcc4\"};","import { Suspense } from 'react';\nimport GoBack from '../../components/GoBack/GoBack';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport { useEffect } from 'react';\nimport { fetchFilmById } from '../../API/API';\nimport { useState, useRef } from 'react';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Loader from '../../components/Loader/Loader';\nimport css from './MovieDetails.module.css';\n\nfunction MovieDetails() {\n  const { movieId } = useParams();\n  const [film, setFilm] = useState({});\n\n  const location = useLocation();\n  const backLinkHref = useRef(location.state?.from ?? '/movies');\n\n  useEffect(() => {\n    fetchFilmById(movieId)\n      .then(result => setFilm(result))\n      .catch(() =>\n        toast.error(\"We can't find any information about your film!\")\n      );\n  }, [movieId]);\n\n  const { poster_path, title, userScore, overview, genres } = film;\n\n  return (\n    <section>\n      <GoBack to={backLinkHref.current}>Go back</GoBack>\n      <div className={css.wrapper}>\n        <img className={css.poster} src={poster_path} alt={title} />\n        <div>\n          <h2>{title}</h2>\n          <p>{`User score: ${userScore}`}</p>\n          <h3>Overview</h3>\n          <p className={css.text}>{overview}</p>\n          <h3>Genres</h3>\n          <p className={css.text}>{genres}</p>\n        </div>\n      </div>\n      <div className={css.wrapperAdditional}>\n        <p>Additional information</p>\n        <ul>\n          <li>\n            <Link to=\"cast\">Cast</Link>\n          </li>\n          <li>\n            <Link to=\"reviews\">Reviews</Link>\n          </li>\n        </ul>\n        <Suspense fallback={<Loader />}>\n          <Outlet />\n        </Suspense>\n      </div>\n    </section>\n  );\n}\n\nexport default MovieDetails;\n"],"names":["KEY","URL","fetchFilms","filmName","page","request","axios","response","takeInfo","results","filter","poster_path","genre_ids","title","original_title","map","id","data","fetchFilmById","filmId","genres","release_date","vote_average","overview","slice","userScore","Math","round","genre","name","join","fetchCastFilmById","cast","profile_path","character","photo","fetchReviewsFilmById","author","content","to","children","className","css","size","movieId","useParams","useState","film","setFilm","location","useLocation","backLinkHref","useRef","state","from","useEffect","then","result","catch","toast","current","src","alt","Suspense","fallback","Loader"],"sourceRoot":""}